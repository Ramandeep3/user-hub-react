{"version":3,"sources":["components/Header.js","components/UserPosts.js","components/UserTodos.js","api/index.js","index.js"],"names":["Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","handleUserLogout","event","className","onSubmit","preventDefault","to","activeClassName","onClick","onChange","id","target","value","user","find","map","username","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","BASE","a","axios","get","data","userId","App","setUserList","setUserPosts","setUserTodos","getUsers","then","users","catch","error","console","log","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","Redirect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.edfb1e33.chunk.js","sourcesContent":["import React, {useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Header.css';\n\nconst Header = ({\n    currentUser,\n  setCurrentUser,\n  userList \n}) =>{\nconst [selectedUser, setSelectedUser] = useState();\n\nuseEffect(() => {\n  setSelectedUser(userList[0]);\n}, [userList]);\n const handleSubmit = (event) => {\n    event.preventDefault();\n  }\n\n  const handleSelectChange = (event) => {\n    const id = event.target.value;\n    const user = userList.find(user => user.id == id);\n    setSelectedUser(user);\n  }\n\n  const handleUserLogin = (event) => {\n    setCurrentUser(selectedUser);\n  }\n\n  const handleUserLogout = (event) => {\n    setSelectedUser(userList[0]);\n    setCurrentUser(null);\n  }\n\n  return (\n    <header>\n      <h1>Welcome to UserHub</h1>\n      <form \n        className=\"user-select\" \n        onSubmit={ handleSubmit } >\n            {\n          currentUser\n          ?  <>  <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n          <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink >\n          <button onClick={ handleUserLogout }>LOG OUT</button>\n          </>\n          \n          :<>\n          \n        <select onChange={ handleSelectChange }>{\n          userList.map(user => (\n            <option key={ user.id } value={ user.id }>\n              { user.username }\n            </option>\n          ))\n        }</select>\n        <button onClick={ handleUserLogin }>LOG IN</button>\n        <button onClick={ handleUserLogout }>LOG OUT</button>\n        </>\n}\n      </form>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nimport './UserPosts.css';\n\nconst UserPosts = ({\n  currentUser,\n  userPosts\n}) => {\n  return (\n    <div className=\"user-posts\">\n      <h2>Posts By { currentUser.username }</h2>\n      {userPosts.map(({ id, title, body}) => (\n        <div key={ id } className=\"post\">\n          <h3>{ title }</h3>\n          <p>{ body }</p>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default UserPosts;","import React from 'react';\n\nimport './UserTodos.css';\n\nconst UserTodos = ({\n  currentUser,\n  userTodos\n}) => {\n  return (\n    <div className=\"user-todos\">\n      <h2>Todos By { currentUser.username }</h2>\n      {userTodos.map(({ id, title, completed }) => (\n        <div key={ id } className=\"todo\">\n          <h3 style={{\n            textDecoration: completed ? 'line-through' : 'none'\n          }}>{ title }</h3>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default UserTodos;","import axios from 'axios';\n\nconst BASE = 'https://jsonplace-univclone.herokuapp.com'\n\nexport async function getUsers() {\n  try {\n    const { data } = await axios.get(`${ BASE }/users`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getPostsByUser(userId) {\n  try {\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/posts`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getTodosByUser(userId) {\n  try {\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/todos`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link,\n  Switch\n} from 'react-router-dom';\n\nimport {\n  Header,  UserPosts, UserTodos\n} from './components';\nimport {\n  getUsers,\n  getPostsByUser,\n  getTodosByUser \n} from './api';\n\n\nconst App = () => {\n  const [userList, setUserList] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [userPosts, setUserPosts] = useState([]);\n  const [userTodos, setUserTodos] = useState([]); // NEW\n  useEffect(() => {\n    getUsers()\n      .then(users => {\n        setUserList(users)\n      })\n      .catch(error => {\n        console.log(error)\n      });\n  }, []);\n\n  useEffect(() => {\n    if (!currentUser) {\n      setUserPosts([]);\n      setUserTodos([]);\n      return;\n    }\n    \n    getPostsByUser(currentUser.id)\n    .then(posts => {\n      setUserPosts(posts);\n    })\n    .catch(error => {\n  console.log(error)\n    });\n\n\ngetTodosByUser(currentUser.id)\n.then(todos => {\n  setUserTodos(todos);\n})\n.catch(error => {\n  console.log(error)\n});\n}, [currentUser]);\n\n  return (\n    <Router>\n    <div id=\"App\">\n      <Header userList={ userList }\n      currentUser={currentUser} \n      setCurrentUser={setCurrentUser}\n      />\n      {\n          currentUser\n          ? <>\n              <Switch>\n                <Route path=\"/posts\">\n                  <UserPosts\n                    userPosts={ userPosts }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route path=\"/todos\">\n                  <UserTodos\n                    userTodos={ userTodos }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Welcome, { currentUser.username }!</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            </>\n          : <>\n              <Switch>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Please log in, above.</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            </>\n        }\n      </div>\n    </Router>\n  );\n}\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}